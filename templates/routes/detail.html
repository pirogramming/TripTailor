{% extends "base.html" %}
{% block content %}

<h1 style="margin-bottom:.25rem;">{{ route.title }}</h1>
{% if route.location_summary %}
  <p style="margin-top:0; color:#444;">{{ route.location_summary }}</p>
{% endif %}
<p style="color:#888; font-size:14px;">
  생성: {{ route.created_at|date:"Y-m-d H:i" }}
  · 수정: {{ route.updated_at|date:"Y-m-d H:i" }}
</p>

{% if stops %}
  <ol style="padding-left:20px;">
    {% for rp in stops %}
      <li style="margin:8px 0;">
        <a href="{% url 'places:place_detail' rp.place_id %}"><strong>{{ rp.place.name }}</strong></a>
        <small style="color:#999;">#{{ rp.stop_order }}</small>

        {% if rp.tip %}
          <div style="color:#555; margin-top:4px;">팁: {{ rp.tip }}</div>
        {% endif %}

        <form method="post" action="{% url 'routes:remove_place' route.id rp.place_id %}" style="display:inline-block; margin-left:8px;">
          {% csrf_token %}
          <button type="submit">삭제</button>
        </form>

      </li>
    {% endfor %}
  </ol>
{% else %}
  <p style="color:#777;">아직 추가된 장소가 없어요. 여행지 목록에서 <em>“루트에 추가”</em>로 채워보세요!</p>
{% endif %}

<p style="margin-top:16px;">
  <a href="javascript:history.back()">← 이전 페이지로</a>
</p>

{% endblock %}
