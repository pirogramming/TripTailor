
{% if likes_page %}
<div>
    <ul class="place-list">
        {% for like in likes_page %}
            
            <li class="place-item">
                {% with place=like.place %}
                <div class="place-item__map"></div> <!-- ì§€ë„/ì´ë¯¸ì§€ ìë¦¬ -->
                <div class="place-item__head">
                <span class="place-item__name">{{ place.name }}</span>
                <span class="place-item__meta">({{ place.region }}) Â·
                    {% if place.place_class == 1 %}ë ˆí¬ì¸ {% elif place.place_class == 2 %}ì‡¼í•‘{% elif place.place_class == 3 %}ê´€ê´‘ì§€{% elif place.place_class == 4 %}ë¬¸í™”ì‹œì„¤{% endif %}
                </span>
                <a class="place-item__link" href="{% url 'places:place_detail' place.pk %}">ìì„¸íˆ ë³´ê¸°</a>

                {% if user.is_authenticated %}
                <form method="post" action="{% url 'places:place_like' place.pk %}" class="like-form">
                    {% csrf_token %}
                    <button type="submit" class="like-button">
                    {% if place.is_liked %}â¤ï¸ ì°œì·¨ì†Œ{% else %}ğŸ¤ ì°œí•˜ê¸°{% endif %}
                    </button>
                </form>

                <button type="button" class="add-to-route-btn" data-place-id="{{ place.id }}">â• ë£¨íŠ¸ì— ì¶”ê°€</button>
                <div class="route-dropdown" style="display:none; position:absolute; background:#fff; border:1px solid #ccc; padding:.5rem; z-index:10; min-width:200px;">
                    <div class="route-list">ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>
                    <hr>
                    <div class="create-route-form">
                    <input type="text" class="new-route-title" placeholder="ìƒˆ ë£¨íŠ¸ ì œëª©" style="width:100%; margin-bottom:.25rem;">
                    <input type="text" class="new-route-summary" placeholder="ë£¨íŠ¸ ìš”ì•½(ì„ íƒ, 200ì ì´ë‚´)" style="width:100%; margin-bottom:.25rem;">
                    <label style="display:block; margin-bottom:.25rem;">
                        <input type="checkbox" class="new-route-public" checked>ê³µê°œ ë£¨íŠ¸ë¡œ ë§Œë“¤ê¸°
                    </label>
                    <button type="button" class="create-route-btn">ï¼‹ ìƒˆ ë£¨íŠ¸ ë§Œë“¤ê¸°</button>
                    </div>
                </div>
                {% endif %}
                </div>
                <ul class="tag-list">
                {% for tag in place.tags.all %}
                    <li class="tag">#{{ tag.name }}</li>
                {% endfor %}
                </ul>
                {% endwith %}
            </li>
            
        {% endfor %}
    </ul>



</div>
<div class="paginateion">
    {% if likes_page.has_previous %}
        <a href="?page_likes={{ likes_page.previous_page_number }}&page_routes={{ routes_page.number }}&page_reviews={{ reviews_page.number }}">ì´ì „</a>
    {% endif %}
    <span>{{ likes_page.number }} / {{ likes_page.paginator.num_pages }}</span>
    {% if likes_page.has_next %}
        <a href="?page_likes={{ likes_page.next_page_number }}&page_routes={{ routes_page.number }}&page_reviews={{ reviews_page.number }}">ë‹¤ìŒ</a>
    {% endif %}
</div>

{% else %}
<p>ì•„ì§ ì¢‹ì•„ìš”í•œ ì¥ì†Œê°€ ì—†ì–´ìš”.</p>
{% endif %}